<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AgriTech AI - Crop Disease Identification Guide</title>

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://kit.fontawesome.com/YOUR_FONT_AWESOME_KIT_CODE.js" crossorigin="anonymous"></script>

    <style>
        /* General Body Styling */
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background-color: #f8f9fa; /* Light grey background */
            color: #333;
            line-height: 1.6;
        }

        /* Header and Footer Placeholders (consistent with your main page) */
        #header-container, #footer-container {
            background-color: #28a745; /* Green for agriculture theme */
            color: white;
            padding: 1.5rem 0;
            text-align: center;
            font-size: 1.2rem;
            font-weight: bold;
        }
        #footer-container {
            margin-top: 5rem;
            background-color: #343a40; /* Darker footer */
            font-size: 1rem;
        }

        /* Hero Section for Disease Guide */
        .disease-hero-section {
            background: linear-gradient(rgba(0, 0, 0, 0.6), rgba(0, 0, 0, 0.6)), url('https://images.unsplash.com/photo-1579547621175-fa5608b4923e?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w1MDcxMzJ8MHwxfHNlYXJjaHwyMHx8Y3JvcCUyMGRpc2Vhc2V8ZW58MHx8fHwxNzA4Njc4OTAyfDA&ixlib=rb-4.0.3&q=80&w=1080') no-repeat center center/cover;
            color: white;
            padding: 8rem 0;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.5);
            animation: fadeIn 1.5s ease-out; /* Hero animation */
            display: flex;
            align-items: center;
            justify-content: center;
            min-height: 60vh; /* Ensure it takes up a good portion of the viewport */
        }

        .disease-hero-section h1 {
            font-weight: 700;
            font-size: 3.8rem; /* Even larger for impact */
            margin-bottom: 1rem;
        }

        .disease-hero-section p {
            font-size: 1.35rem;
            max-width: 900px;
            margin: 0 auto 2.5rem auto;
            opacity: 0.9;
        }

        /* Disease Guide Section */
        #disease-guide-section {
            padding-top: 3rem;
            padding-bottom: 3rem;
        }

        #disease-guide-section h2 {
            color: #28a745; /* Green title */
            font-weight: 700;
            letter-spacing: 1px;
            font-size: 2.8rem;
        }

        #disease-guide-section p.lead {
            max-width: 900px;
            margin: 0 auto 3rem auto;
            font-size: 1.25rem;
        }

        /* Search Bar Styling */
        #disease-search {
            border-radius: .25rem 0 0 .25rem;
            border-color: #28a745;
            padding: 0.75rem 1.25rem; /* Larger padding for easier typing */
            font-size: 1.1rem;
        }
        #disease-search:focus {
            box-shadow: 0 0 0 .25rem rgba(40, 167, 69, .25);
            border-color: #28a745;
        }
        #clear-search {
            border-radius: 0 .25rem .25rem 0;
            background-color: #28a745;
            color: white;
            border-color: #28a745;
            padding: 0.75rem 1.25rem; /* Match input padding */
            font-size: 1.1rem;
        }
        #clear-search:hover {
            background-color: #218838;
            border-color: #1e7e34;
        }

        /* Disease Card Styling */
        .disease-card {
            border: 1px solid #e0e0e0;
            border-radius: 12px; /* Slightly more rounded */
            overflow: hidden;
            transition: transform 0.2s ease-in-out, box-shadow 0.2s ease-in-out;
            cursor: pointer; /* Indicate clickability */
            background-color: #ffffff; /* White card background */
            display: flex;
            flex-direction: column; /* Ensure content stacks vertically */
        }

        .disease-card:hover {
            transform: translateY(-10px); /* Lift effect on hover */
            box-shadow: 0 12px 25px rgba(0, 0, 0, 0.2); /* Stronger shadow */
        }

        .disease-card .card-img-top {
            border-bottom: 1px solid #e9ecef;
            height: 250px; /* Increased height for better image display */
            object-fit: cover; /* Ensures images cover the area without distortion */
        }

        .disease-card .card-body {
            padding: 1.8rem; /* More padding */
            display: flex;
            flex-direction: column;
            flex-grow: 1; /* Allow body to grow and fill space */
        }

        .disease-card .card-title {
            font-size: 1.8rem; /* Larger title */
            margin-bottom: 0.75rem;
            color: #1a5e2e; /* Darker green for titles */
            font-weight: 600;
        }

        .disease-card .card-subtitle {
            font-size: 1.1rem; /* Slightly larger subtitle */
            color: #6c757d;
            margin-bottom: 1.25rem;
        }
        
        .disease-card .card-text {
            font-size: 1.05rem;
            margin-bottom: 0.75rem; /* Space between text lines */
        }

        .disease-card .btn-outline-success {
            border-color: #28a745;
            color: #28a745;
            transition: all 0.3s ease;
            padding: 0.75rem 1.25rem; /* Larger button */
            font-size: 1.1rem;
            border-radius: 8px;
        }
        .disease-card .btn-outline-success:hover {
            background-color: #28a745;
            color: white;
            box-shadow: 0 4px 8px rgba(0,0,0,0.1);
        }

        /* Modal Styling */
        #diseaseDetailModal .modal-content {
            border-radius: 12px;
            overflow: hidden;
            border: none;
            box-shadow: 0 15px 40px rgba(0,0,0,0.25);
        }

        #diseaseDetailModal .modal-header {
            background-color: #28a745;
            color: white;
            border-bottom: none;
            padding: 1.8rem 2rem; /* More padding */
        }

        #diseaseDetailModal .modal-title {
            font-weight: bold;
            font-size: 2.2rem; /* Larger modal title */
        }

        #diseaseDetailModal .btn-close {
            filter: invert(1) brightness(2); /* Make close button white */
            font-size: 1.5rem; /* Larger close button */
        }

        #diseaseDetailModal .modal-body {
            padding: 2.5rem; /* More padding */
        }

        #diseaseDetailModal .modal-body img {
            border-radius: 10px;
            max-height: 400px; /* Even larger image in modal */
            width: 100%;
            object-fit: cover;
            margin-bottom: 2rem;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }

        #diseaseDetailModal .modal-body p {
            font-size: 1.1rem;
            margin-bottom: 1rem;
        }

        #diseaseDetailModal .modal-body ul {
            padding-left: 2rem; /* More space for custom bullets */
            list-style-type: none; /* Remove default bullets */
        }
        #diseaseDetailModal .modal-body ul li {
            position: relative;
            margin-bottom: 0.85rem;
            padding-left: 1.8rem; /* Space for custom bullet */
            font-size: 1.05rem;
        }
        #diseaseDetailModal .modal-body ul li:before {
            content: "\f058"; /* Font Awesome check-circle icon */
            font-family: "Font Awesome 5 Free";
            font-weight: 900;
            color: #28a745; /* Green checkmark */
            position: absolute;
            left: 0;
            top: 0.15rem; /* Adjust vertical alignment */
            font-size: 1.2rem;
        }
        
        #diseaseDetailModal .modal-body h6 {
            color: #1a5e2e; /* Darker green for subheadings */
            font-weight: bold;
            margin-top: 2rem;
            margin-bottom: 1rem;
            font-size: 1.8rem; /* Larger subheading */
            border-bottom: 2px solid #e9ecef;
            padding-bottom: 0.5rem;
        }

        /* Animations */
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .fade-in {
            opacity: 0;
            animation: fadeIn 1s ease-out forwards;
        }
        .fade-in-1 { animation-delay: 0.3s; }
        .fade-in-2 { animation-delay: 0.6s; }
        .fade-in-3 { animation-delay: 0.9s; }
        /* Add more fade-in-X classes if needed for staggered animations */

        /* Responsive Adjustments */
        @media (max-width: 992px) {
            .disease-hero-section h1 {
                font-size: 3rem;
            }
            .disease-hero-section p {
                font-size: 1.15rem;
            }
            #disease-guide-section h2 {
                font-size: 2.2rem;
            }
            #disease-guide-section p.lead {
                font-size: 1.1rem;
            }
            .disease-card .card-img-top {
                height: 200px;
            }
            .disease-card .card-title {
                font-size: 1.5rem;
            }
            #diseaseDetailModal .modal-title {
                font-size: 1.8rem;
            }
            #diseaseDetailModal .modal-body img {
                max-height: 280px;
            }
            #diseaseDetailModal .modal-body h6 {
                font-size: 1.5rem;
            }
        }

        @media (max-width: 768px) {
            .disease-hero-section h1 {
                font-size: 2.5rem;
            }
            .disease-hero-section p {
                font-size: 1rem;
            }
            #disease-guide-section h2 {
                font-size: 1.8rem;
            }
            #disease-guide-section p.lead {
                font-size: 0.95rem;
            }
            .disease-card .card-img-top {
                height: 180px;
            }
            .disease-card .card-title {
                font-size: 1.3rem;
            }
            #diseaseDetailModal .modal-title {
                font-size: 1.5rem;
            }
            #diseaseDetailModal .modal-body img {
                max-height: 200px;
            }
            #diseaseDetailModal .modal-body h6 {
                font-size: 1.3rem;
            }
            #diseaseDetailModal .modal-body ul li, #diseaseDetailModal .modal-body p {
                font-size: 0.95rem;
            }
        }
    </style>
</head>
<body>
    <div id="header-container"></div>

    <header class="disease-hero-section text-center d-flex align-items-center justify-content-center">
        <div class="container">
            <h1 class="fade-in fade-in-1">Empowering Farmers with Disease Insights</h1>
            <p class="lead fade-in fade-in-2">
                Our comprehensive guide helps you identify, understand, and manage common crop diseases. Protect your yield and ensure healthy harvests.
            </p>
            <div class="fade-in fade-in-3">
                <a href="#disease-guide-section" class="btn btn-light btn-lg px-5 py-3 rounded-pill shadow-sm">
                    Explore Diseases <i class="fas fa-arrow-down ms-2"></i>
                </a>
            </div>
        </div>
    </header>

    <section id="disease-guide-section" class="container my-5 py-3">
        <h2 class="text-center mb-4 display-4">Common Crop Disease Guide</h2>
        <p class="text-center text-muted mb-5 lead">
            Discover various crop diseases, learn how they spread, recognize their signs, and find effective prevention and management strategies.
        </p>

        <div class="row mb-5 justify-content-center">
            <div class="col-md-8 col-lg-6">
                <div class="input-group input-group-lg">
                    <input type="text" id="disease-search" class="form-control" placeholder="Search by disease name, crop, or symptom...">
                    <button class="btn btn-success" type="button" id="clear-search">
                        <i class="fas fa-times"></i> Clear
                    </button>
                </div>
            </div>
        </div>

        <div id="disease-list" class="row g-4 justify-content-center">
            </div>
    </section>

    <div id="footer-container"></div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>

    <div class="modal fade" id="diseaseDetailModal" tabindex="-1" aria-labelledby="diseaseDetailModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered modal-lg modal-dialog-scrollable">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="diseaseDetailModalLabel"></h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                </div>
            </div>
        </div>
    </div>

    <script>
        // This array holds all the data for your crop diseases.
        // You can easily add more diseases here.
        const cropDiseases = [
            {
                name: "Tomato Blight (Late Blight)",
                scientific_name: "Phytophthora infestans",
                image_url: "https://images.unsplash.com/photo-1598495349605-e366c84c679a?ixlib=rb-4.0.3&ixid=M3w5MjY4NHwwfDF8c2VhcmNofDEzfHx0b21hdG8lMjBkaXNlYXNlJTIwcGxhbnR8ZW58MHx8fHwxNzA4Njc4OTAyfDA&auto=format&fit=crop&w=800&q=60",
                affected_crops: ["Tomatoes", "Potatoes"],
                spread: "Wind and rain disperse spores from infected plants. Cool, humid conditions accelerate its spread.",
                signs: [
                    "Dark, water-soaked spots on leaves and stems, often with a **fuzzy white mold** on the undersides during high humidity.",
                    "Rapid wilting and browning of foliage, leading to plant collapse.",
                    "Sunken, firm, leathery spots on fruit that turn dark brown, eventually rotting."
                ],
                management: [
                    "**Remove and destroy** infected plants immediately (do not compost to prevent further spread).",
                    "**Improve air circulation** by proper plant spacing and pruning lower leaves.",
                    "**Avoid overhead watering**; water plants at the base to keep foliage dry.",
                    "Apply a **copper-based fungicide** or organic alternatives (e.g., Bacillus subtilis) preventatively, following label instructions.",
                    "**Plant resistant varieties** if available in your region."
                ]
            },
            {
                name: "Powdery Mildew",
                scientific_name: "Erysiphe necator (species vary by host)",
                image_url: "https://images.unsplash.com/photo-1596245037233-e69d76378e47?ixlib=rb-4.0.3&ixid=M3w5MjY4NHwwfDF8c2VhcmNofDJ8fHBvd2RlcnklMjBtaWxkZXd8ZW58MHx8fHwxNzA4Njc5MDY2fDA&auto=format&fit=crop&w=800&q=60",
                affected_crops: ["Grapes", "Cucurbits (Cucumber, Zucchini, Squash)", "Roses", "Peas", "Apples"],
                spread: "Spores are carried by wind; thrives in warm, dry conditions with high humidity, often when nights are cool.",
                signs: [
                    "Distinct **white, powdery patches** on the top and bottom surfaces of leaves, stems, flowers, and sometimes fruit.",
                    "Infected leaves may turn yellow or brown, curl, and drop prematurely.",
                    "Stunted plant growth, reduced fruit production, and diminished fruit quality."
                ],
                management: [
                    "Ensure **proper plant spacing** for good air circulation and sunlight penetration.",
                    "Apply **horticultural oils** (like neem oil), sulfur-based sprays, or baking soda solutions (1 tsp per quart of water with a few drops of soap) weekly.",
                    "**Plant resistant varieties** to minimize infection risk.",
                    "**Prune affected areas** and dispose of infected plant parts carefully to reduce spore load."
                ]
            },
            {
                name: "Leaf Rust",
                scientific_name: "Puccinia spp.",
                image_url: "https://images.unsplash.com/photo-1621644799014-43485f79116e?ixlib=rb-4.0.3&ixid=M3w5MjY4NHwwfDF8c2VhcmNofDV8fHJ1c3QlMjBkaXNlYXNlfGVufDB8fHx8MTcwODY3OTA5MXww&auto=format&fit=crop&w=800&q=60",
                affected_crops: ["Wheat", "Barley", "Coffee", "Beans", "Corn", "Onions"],
                spread: "Spores are widely dispersed by wind and splashing rain, infecting susceptible host plants.",
                signs: [
                    "Small, raised, **yellow to orange-brown pustules** (blisters) primarily on the upper surface of leaves.",
                    "Pustules often rupture, releasing powdery, rust-colored spores that can stain fingers or clothes.",
                    "Severe infections lead to premature leaf yellowing, browning, leaf drop, and significantly reduced yield and quality."
                ],
                management: [
                    "Choose **disease-resistant crop varieties** suitable for your region.",
                    "Implement **crop rotation** to break the disease cycle and reduce pathogen buildup in the soil.",
                    "**Remove and destroy volunteer plants** (self-sown plants from previous crops) that can harbor the disease.",
                    "Apply an approved **fungicide** at the first sign of infection, following specific crop guidelines and safety precautions."
                ]
            },
            {
                name: "Bacterial Wilt",
                scientific_name: "Ralstonia solanacearum",
                image_url: "https://images.unsplash.com/photo-1601267800086-63f2b604b901?ixlib=rb-4.0.3&ixid=M3w5MjY4NHwwfDF8c2VhcmNofDN8fHdpbHRlZCUyMHBsYW50fGVufDB8fHx8MTcwODY3OTExN3ww&auto=format&fit=crop&w=800&q=60",
                affected_crops: ["Tomatoes", "Potatoes", "Eggplants", "Peppers", "Tobacco", "Bananas"],
                spread: "Soil-borne bacteria enter through roots or wounds; easily spread by contaminated water, farm tools, and infected plant material.",
                signs: [
                    "Sudden, rapid **wilting of leaves and stems**, often on one side of the plant, even when soil moisture is adequate.",
                    "**Vascular discoloration** (browning) when stems are cut open near the soil line.",
                    "A milky, bacterial ooze may emerge from cut stems placed in water (known as the bacterial stream test)."
                ],
                management: [
                    "Use **resistant varieties** where available, as chemical controls are ineffective.",
                    "Practice **strict crop rotation**, avoiding susceptible crops in infected soil for several years.",
                    "**Improve soil drainage** and avoid overwatering, which can spread bacteria.",
                    "**Sanitize tools and equipment** (e.g., with a 10% bleach solution) to prevent spread between plants.",
                    "**Remove and destroy** infected plants immediately to limit spread."
                ]
            },
            {
                name: "Downy Mildew",
                scientific_name: "Peronospora spp., Plasmopara viticola",
                image_url: "https://images.unsplash.com/photo-1623941459585-cd2786a42211?ixlib=rb-4.0.3&ixid=M3w5MjY4NHwwfDF8c2VhcmNofDJ8fGRvd255JTIwbWlsZGV3fGVufDB8fHx8MTcwODY3OTExOXww&auto=format&fit=crop&w=800&q=60",
                affected_crops: ["Grapes", "Cucumbers", "Onions", "Lettuce", "Spinach", "Brassicas"],
                spread: "Wind and splashing rain disperse spores; thrives in cool, moist conditions with high humidity and leaf wetness.",
                signs: [
                    "**Yellow, angular spots** on the upper leaf surface, often bounded by veins.",
                    "**Grayish-purple, fuzzy growth** on the undersides of leaves, especially visible in humid conditions.",
                    "Leaves may become distorted, shrivel, and drop prematurely, severely impacting photosynthesis.",
                    "Stunted growth and reduced yield in affected plants."
                ],
                management: [
                    "Ensure **good air circulation** by proper plant spacing and pruning.",
                    "**Avoid overhead irrigation**; water early in the day to allow foliage to dry quickly.",
                    "**Remove and destroy** infected plant parts to reduce the source of inoculum.",
                    "Apply **fungicides specifically targeting downy mildew** (e.g., copper-based or systemic fungicides) as a preventative or early treatment.",
                    "**Plant resistant varieties** if they are available for your specific crop."
                ]
            },
            {
                name: "Citrus Canker",
                scientific_name: "Xanthomonas citri subsp. citri",
                image_url: "https://images.unsplash.com/photo-1623707255298-251f2d6b3c22?ixlib=rb-4.0.3&ixid=M3w5MjY4NHwwfDF8c2VhcmNofDF8fGNpdHJ1cyUyMGRpc2Vhc2V8ZW58MHx8fHwxNzA4NjgyNTI2fDA&auto=format&fit=crop&w=800&q=60",
                affected_crops: ["Oranges", "Lemons", "Limes", "Grapefruits", "Other Citrus varieties"],
                spread: "Spread by wind-driven rain, contaminated equipment, infected plants, and sometimes insects or birds. Wounds are entry points.",
                signs: [
                    "**Raised, tan to brown lesions** (cankers) with a water-soaked margin and a yellow halo on leaves, stems, and fruit.",
                    "Cankers become corky or scab-like over time.",
                    "Severe infections can lead to premature fruit drop, twig dieback, and reduced fruit quality."
                ],
                management: [
                    "Use only **disease-free nursery stock** for planting.",
                    "**Prune and destroy** infected branches and leaves carefully during dry periods to avoid spreading.",
                    "Apply **copper-containing bactericides** as a preventative measure, especially during periods of new growth and rain.",
                    "Implement **windbreaks** around groves to reduce wind-driven rain spread.",
                    "Strict **quarantine measures** are crucial in unaffected areas to prevent introduction."
                ]
            },
            {
                name: "Fusarium Wilt",
                scientific_name: "Fusarium oxysporum",
                image_url: "https://images.unsplash.com/photo-1596700676662-3c221e780790?ixlib=rb-4.0.3&ixid=M3w5MjY4NHwwfDF8c2VhcmNofDF8fGZ1c2FyaXVtJTIwd2lsdHxlbnwwfHwwfHx8MTcwODY4MjU4M3ww&auto=format&fit=crop&w=800&q=60",
                affected_crops: ["Tomatoes", "Cotton", "Melons", "Bananas", "Asparagus", "Peas"],
                spread: "Soil-borne fungus survives in soil for many years; spreads through contaminated soil, water, and infected plant debris.",
                signs: [
                    "**Yellowing of lower leaves**, often on one side of the plant or a single branch, progressing upwards.",
                    "**Wilting of leaves and stems** during the day, with recovery at night, eventually leading to permanent wilt.",
                    "**Brown discoloration of vascular tissue** when stems are cut lengthwise, especially near the soil line.",
                    "Stunted growth and reduced yield, eventually leading to plant death."
                ],
                management: [
                    "**Plant resistant or tolerant varieties** as the primary control method.",
                    "**Practice long-term crop rotation** (5-7 years) with non-host plants to reduce soil inoculum.",
                    "**Maintain optimal soil pH and fertility** to promote plant health and vigor.",
                    "**Solarize soil** in hot climates to kill fungal spores.",
                    "Use **certified disease-free seeds and seedlings**.",
                    "**Avoid excessive nitrogen fertilization**, which can favor the disease."
                ]
            }
        ];

        // This function generates the HTML for a single disease card.
        function createDiseaseCard(disease) {
            return `
                <div class="col-md-6 col-lg-4 d-flex align-items-stretch fade-in">
                    <div class="card h-100 shadow-sm disease-card">
                        <img src="${disease.image_url}" class="card-img-top" alt="${disease.name}">
                        <div class="card-body d-flex flex-column">
                            <h5 class="card-title text-success">${disease.name}</h5>
                            <h6 class="card-subtitle mb-3 text-muted"><em>${disease.scientific_name}</em></h6>
                            <p class="card-text mb-2"><strong><i class="fas fa-seedling me-2 text-primary"></i>Affected Crops:</strong> ${disease.affected_crops.join(', ')}</p>
                            <p class="card-text mb-4"><strong><i class="fas fa-microscope me-2 text-info"></i>Spread Type:</strong> ${disease.spread.split(';')[0].trim()}</p>
                            
                            <div class="mt-auto pt-3">
                                <button class="btn btn-outline-success btn-sm w-100" 
                                    data-bs-toggle="modal" 
                                    data-bs-target="#diseaseDetailModal" 
                                    data-disease-name="${disease.name}">
                                    Learn More <i class="fas fa-arrow-right ms-2"></i>
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            `;
        }

        // This function populates the modal with full disease details.
        function populateDiseaseModal(disease) {
            const modalTitle = document.getElementById('diseaseDetailModalLabel');
            const modalBody = document.querySelector('#diseaseDetailModal .modal-body');

            modalTitle.textContent = disease.name;
            modalBody.innerHTML = `
                <img src="${disease.image_url}" class="img-fluid mb-4 rounded shadow-sm" alt="${disease.name}">
                <p class="text-muted fs-5"><em><i class="fas fa-dna me-2 text-secondary"></i>${disease.scientific_name}</em></p>
                <p class="fs-5"><strong><i class="fas fa-seedling text-primary me-2"></i>Affected Crops:</strong> ${disease.affected_crops.join(', ')}</p>
                <p class="fs-5"><strong><i class="fas fa-wind text-info me-2"></i>How it Spreads:</strong> ${disease.spread}</p>
                
                <h6 class="mt-4 text-success fs-4"><i class="fas fa-binoculars text-success me-2"></i>Signs to Look For:</h6>
                <ul>
                    ${disease.signs.map(sign => `<li>${sign}</li>`).join('')}
                </ul>

                <h6 class="mt-4 text-success fs-4"><i class="fas fa-shield-alt text-success me-2"></i>Management Strategies:</h6>
                <ul>
                    ${disease.management.map(item => `<li>${item}</li>`).join('')}
                </ul>
            `;
        }

        // Main script to run when the DOM is loaded
        document.addEventListener('DOMContentLoaded', () => {
            const diseaseListContainer = document.getElementById('disease-list');
            const diseaseDetailModal = document.getElementById('diseaseDetailModal');
            const searchInput = document.getElementById('disease-search');
            const clearSearchButton = document.getElementById('clear-search');

            // Function to render disease cards
            function renderDiseases(diseasesToRender) {
                diseaseListContainer.innerHTML = ''; // Clear current list
                if (diseasesToRender.length > 0) {
                    diseasesToRender.forEach((disease, index) => {
                        const cardHtml = createDiseaseCard(disease);
                        const tempDiv = document.createElement('div');
                        tempDiv.innerHTML = cardHtml;
                        const cardElement = tempDiv.firstElementChild;
                        cardElement.style.animationDelay = `${0.1 * index}s`; // Stagger animation
                        diseaseListContainer.appendChild(cardElement);
                    });
                } else {
                    diseaseListContainer.innerHTML = `
                        <div class="col-12 text-center py-5">
                            <p class="lead text-muted"><i class="fas fa-frown-open me-2"></i>No diseases found matching your search. Try a different keyword!</p>
                        </div>
                    `;
                }
            }

            // Initial rendering of all diseases
            renderDiseases(cropDiseases);

            // Handle modal display when a card or button is clicked
            diseaseDetailModal.addEventListener('show.bs.modal', event => {
                const button = event.relatedTarget; // Button that triggered the modal
                const diseaseName = button.getAttribute('data-disease-name');
                const disease = cropDiseases.find(d => d.name === diseaseName);
                if (disease) {
                    populateDiseaseModal(disease);
                }
            });

            // Search functionality
            searchInput.addEventListener('input', (event) => {
                const searchTerm = event.target.value.toLowerCase().trim();
                const filteredDiseases = cropDiseases.filter(disease =>
                    disease.name.toLowerCase().includes(searchTerm) ||
                    disease.scientific_name.toLowerCase().includes(searchTerm) ||
                    disease.affected_crops.some(crop => crop.toLowerCase().includes(searchTerm)) ||
                    disease.signs.some(sign => sign.toLowerCase().includes(searchTerm)) ||
                    disease.management.some(item => item.toLowerCase().includes(searchTerm)) ||
                    disease.spread.toLowerCase().includes(searchTerm)
                );
                renderDiseases(filteredDiseases);
            });

            // Clear search button functionality
            clearSearchButton.addEventListener('click', () => {
                searchInput.value = ''; // Clear the search input
                renderDiseases(cropDiseases); // Re-render all diseases
            });

            // Smooth scrolling for hero button
            document.querySelector('a[href^="#"]').addEventListener('click', function (e) {
                e.preventDefault();
                const target = document.querySelector(this.getAttribute('href'));
                if (target) {
                    target.scrollIntoIntoView({
                        behavior: 'smooth',
                        block: 'start'
                    });
                }
            });

            // Initialize tooltips (if any were added in header/footer by components.js)
            // This is a placeholder, as components.js would handle it typically.
            // If you have tooltips outside of components, enable this.
            /*
            setTimeout(function() {
                var tooltipTriggerList = [].slice.call(document.querySelectorAll('[data-bs-toggle="tooltip"]'));
                var tooltipList = tooltipTriggerList.map(function (tooltipTriggerEl) {
                    return new bootstrap.Tooltip(tooltipTriggerEl);
                });
            }, 500);
            */
        });
    </script>
</body>
</html>